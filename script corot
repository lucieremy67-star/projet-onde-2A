#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Thu Nov 13 15:23:22 2025

@author: lucieremy
"""

########### Initialisation des variables #######################

L= 10 #longueur des plaques
dL= L/10 # intervalle de discrétisation 
h= 3 # distance entre les plaques
hr= 1 # hauteur entre la plaque du bas et le récepteur
d= 2 # distance entre la fin de la plaque et le récépteur
Lr= 1 # largeur du récépteur
E0= 1 # Eclairement du soleil normalisé en W/m2 
Lum= 0 # Luminance dans le cas lambertien A DETERMINER 
M = 0# Emittance A DETERMINER 
R= 0.01 # Reflectance de la peinture ie ce que la pleinture reflete >0

# Formule: dans le cas lambertien et 3D : L=Pi*M 

#%% Discrétisation des plaques

s = [[[] for j in range(11)] for i in range(2)] # liste vide qui va contenir les segments discrétisés des plaques 

for i in range (0,2):
    for j in range (0,11):
        s[i][j]=j*dL # plaque du bas car O
        
#print(s)

#%% Calcul des milieux des segments
milieu=[[[] for j in range(10)] for i in range(2)] # liste vide qui va contenir les milieux des plaques 

for i in range (0,2):
    for j in range (0,10):
        milieu[i][j]=(s[i][j+1]+s[i][j])/2    #calcul du milieu
#print(milieu)

#%% Calcul des distances entre les milieux

distance=[[[] for j in range(10)] for i in range(10)]  # liste vide qui contiendra la distance entre le milieu i d'une plaque et le milieu j de l'autre plaque 

for i in range (0,10):
    for j in range (0,10):
        d = np.sqrt((milieu[0][i]-milieu[1][j])**2 + h**2)
        distance[i][j]= d # d[i][j] donne la distance entre le milieu i d'une plaque et le milieu j de l'autre plaque 
        
#print(distance)

#%% Formules 

def d2phi(Lum,ds,ds_prime,theta,theta_prime,d) :
    d2phi = (Lum*ds*ds_prime*np.cos(theta)*np.cos(theta_prime))/(d**2)
    #Formule du flux que Lemarquis nous a donné dans le cas 3D !! A DETERMINER EN 3D
    return d2phi 



